<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anurag Singh | Software Engineer</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Light gray background */
            color: #333;
        }
        .text-gradient {
            background-image: linear-gradient(to right, #6366f1, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #1f2937;
            margin: auto;
            padding: 2rem;
            border-radius: 1rem;
            max-width: 90%;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            animation-name: animatetop;
            animation-duration: 0.4s;
        }
        @keyframes animatetop {
            from { top: -300px; opacity: 0 }
            to { top: 0; opacity: 1 }
        }
        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-btn:hover,
        .close-btn:focus {
            color: #fff;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-slate-950 text-gray-100 antialiased">
    <!-- Header -->
    <header class="bg-slate-900 shadow-lg sticky top-0 z-50">
        <nav class="container mx-auto px-4 py-4 flex justify-between items-center">
            <a href="#hero" class="text-2xl font-bold text-gray-50 hover:text-indigo-400 transition-colors">
                Praveen Gupta
            </a>
            <ul class="hidden md:flex space-x-6">
                <li><a href="#about" class="hover:text-indigo-400 transition-colors">About</a></li>
                <li><a href="#skills" class="hover:text-indigo-400 transition-colors">Skills</a></li>
                <li><a href="#experience" class="hover:text-indigo-400 transition-colors">Experience</a></li>
                <li><a href="#projects" class="hover:text-indigo-400 transition-colors">Projects</a></li>
                <li><a href="#cover-letter" class="hover:text-indigo-400 transition-colors">Cover Letter</a></li>
                <li><a href="#contact" class="hover:text-indigo-400 transition-colors">Contact</a></li>
            </ul>
            <button id="menu-btn" class="md:hidden focus:outline-none">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-50" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-slate-800">
            <ul class="flex flex-col space-y-4 p-4 text-center">
                <li><a href="#about" class="block hover:text-indigo-400 transition-colors">About</a></li>
                <li><a href="#skills" class="block hover:text-indigo-400 transition-colors">Skills</a></li>
                <li><a href="#experience" class="block hover:text-indigo-400 transition-colors">Experience</a></li>
                <li><a href="#projects" class="block hover:text-indigo-400 transition-colors">Projects</a></li>
                <li><a href="#cover-letter" class="block hover:text-indigo-400 transition-colors">Cover Letter</a></li>
                <li><a href="#contact" class="block hover:text-indigo-400 transition-colors">Contact</a></li>
            </ul>
        </div>
    </header>

    <main class="container mx-auto px-4">
        <!-- Hero Section -->
        <section id="hero" class="py-20 md:py-32 text-center">
            <div class="mb-4">
                <img src="https://placehold.co/150x150/6366f1/ffffff?text=AS" alt="Praveen Gupta" class="rounded-full mx-auto shadow-xl">
            </div>
            <h1 class="text-4xl md:text-6xl font-extrabold mb-4 text-gray-50">
                Hi, I'm <span class="text-gradient">Praveen Gupta</span>
            </h1>
            <p class="text-lg md:text-2xl text-gray-400 mb-6 max-w-2xl mx-auto">
                Experienced Software Engineer specializing in Full Stack development with a proven record of designing secure, high-quality production code.
            </p>
            <div class="flex justify-center space-x-4">
                <a href="#contact" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full transition-colors shadow-lg">
                    Get in touch
                </a>
                <a href="https://www.linkedin.com/in/praveen-gupta-552894214?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app " target="_blank" rel="noopener noreferrer" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-full transition-colors shadow-lg">
                    LinkedIn
                </a>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-16 md:py-24">
            <h2 class="text-3xl md:text-4xl font-bold mb-8 text-center text-gray-50">About Me</h2>
            <div class="bg-slate-900 p-8 md:p-12 rounded-2xl shadow-xl">
                <p class="text-lg text-gray-300 leading-relaxed">
                    I am an experienced Software Engineer from Pune, India, with a deep specialization in .NET back-end development. My expertise lies in designing and building secure, high-quality production code using C#, Web API, and .NET Core. I am skilled in unit testing, debugging, and agile methodologies, and I am proficient in using tools like Azure DevOps and Git for seamless version control and continuous integration. My work focuses on developing robust RESTful APIs and integrations that significantly enhance system performance and stability. I have a strong track record of leading critical enhancements and delivering solutions efficiently.
                </p>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="py-16 md:py-24">
            <h2 class="text-3xl md:text-4xl font-bold mb-8 text-center text-gray-50">Technical Skills</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Programming Languages -->
                <div class="bg-slate-900 p-6 rounded-2xl shadow-xl card-hover transition-transform duration-300">
                    <h3 class="text-xl font-bold mb-2 text-indigo-400">Programming Languages</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>C#</li>
                        <li>LINQ</li>
                        <li>OOPS Concepts</li>
                        <li>DSA</li>
                    </ul>
                </div>
                <!-- Frameworks & Technologies -->
                <div class="bg-slate-900 p-6 rounded-2xl shadow-xl card-hover transition-transform duration-300">
                    <h3 class="text-xl font-bold mb-2 text-indigo-400">Frameworks & Technologies</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>.Net Core</li>
                        <li>NET CORE Web API</li>
                        <li>Entity Framework</li>
                        <li>ASP.net MVC</li>
                        <li>React</li>
                    </ul>
                </div>
                <!-- Database Skills -->
                <div class="bg-slate-900 p-6 rounded-2xl shadow-xl card-hover transition-transform duration-300">
                    <h3 class="text-xl font-bold mb-2 text-indigo-400">Database Skills</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>SQL Server</li>
                        <li>SQL Scripting</li>
                    </ul>
                </div>
                <!-- Tools -->
                <div class="bg-slate-900 p-6 rounded-2xl shadow-xl card-hover transition-transform duration-300">
                    <h3 class="text-xl font-bold mb-2 text-indigo-400">Tools</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>Git, Source Tree</li>
                        <li>Kibana Logs</li>
                        <li>Visual Studio, VS Code</li>
                        <li>Swagger, Postman, Soap UI</li>
                        <li>Sonar Qube</li>
                    </ul>
                </div>
                <!-- APIs & Authentication -->
                <div class="bg-slate-900 p-6 rounded-2xl shadow-xl card-hover transition-transform duration-300">
                    <h3 class="text-xl font-bold mb-2 text-indigo-400">APIs & Authentication</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>RESTful APIs</li>
                        <li>JWT, OAuth2</li>
                    </ul>
                </div>
                <!-- DevOps & Methodologies -->
                <div class="bg-slate-900 p-6 rounded-2xl shadow-xl card-hover transition-transform duration-300">
                    <h3 class="text-xl font-bold mb-2 text-indigo-400">DevOps & Methodologies</h3>
                    <ul class="list-disc list-inside text-gray-300 space-y-1">
                        <li>Azure DevOps, GitHub</li>
                        <li>Agile, Scrum, CI/CD</li>
                        <li>Code Reviews</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Experience Section -->
        <section id="experience" class="py-16 md:py-24">
            <h2 class="text-3xl md:text-4xl font-bold mb-8 text-center text-gray-50">Professional Experience</h2>
            <div class="bg-slate-900 p-8 md:p-12 rounded-2xl shadow-xl">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 class="text-2xl font-bold text-gray-50">Senior Software Engineer - Backend Developer</h3>
                        <p class="text-lg text-indigo-400">Nihilent Limited</p>
                    </div>
                    <div class="text-right">
                        <p class="text-sm text-gray-400">Pune, India</p>
                        <p class="text-sm text-gray-400">May 2022 - Present</p>
                    </div>
                </div>
                <ul class="list-disc list-inside text-gray-300 space-y-3">
                    <li>Engineered a secure RESTful API using C# and .NET Core, integrating with Microsoft Dynamics 365 to handle customer queries and log issues.</li>
                    <li>Developed a robust RESTful API integration with a delivery company's system to retrieve real-time user data and delivery statuses, boosting customer engagement by 15%.</li>
                    <li>Achieved 95% unit test coverage with xUnit, reducing deployment errors by 30%.</li>
                    <li>Optimized CI/CD pipelines in Azure DevOps, cutting deployment time by 25%.</li>
                    <li>Authored comprehensive technical documentation that reduced new developer onboarding time by 25%.</li>
                </ul>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="py-16 md:py-24">
            <h2 class="text-3xl md:text-4xl font-bold mb-8 text-center text-gray-50">Key Projects</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Nedbank Business Hub -->
                <div class="bg-slate-900 p-8 rounded-2xl shadow-xl card-hover transition-transform duration-300">
                    <h3 class="text-2xl font-bold mb-2 text-indigo-400">Nedbank Business Hub - CCI</h3>
                    <p class="text-gray-300 mb-4">
                        A project focused on corporate card issuing with significant security and performance enhancements.
                    </p>
                    <ul class="list-disc list-inside text-gray-300 space-y-2">
                        <li>Implemented JWT/OAuth2 for secure third-party API access.</li>
                        <li>Enhanced mobile responsiveness, reducing mobile load time by 20%.</li>
                        <li>Recognized with a "Top Performer Award" for leading critical enhancements.</li>
                        <li>Improved legacy module performance by 25% via SOLID principles.</li>
                    </ul>
                    <button class="expand-project-btn mt-4 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-full transition-colors" data-project="nedbank">
                        Read More ✨
                    </button>
                </div>
                <!-- Brolink - Insurance Platform -->
                <div class="bg-slate-900 p-8 rounded-2xl shadow-xl card-hover transition-transform duration-300">
                    <h3 class="text-2xl font-bold mb-2 text-indigo-400">Brolink - Insurance Platform</h3>
                    <p class="text-gray-300 mb-4">
                        A web application built with ReactJS for insurance brokers to serve policyholders.
                    </p>
                    <ul class="list-disc list-inside text-gray-300 space-y-2">
                        <li>Designed and developed the user interface and experience for an insurance platform, creating a marketplace that connects insurance providers with potential customers while helping users find the best deals.</li>
                        <li>Crafted intuitive front-end flows and built responsive UI components using ReactJS and Formik, performed validation, improving user engagement and interaction.</li>
                        <li>Integrated and tested REST APIs using Swagger and Postman.</li>
                    </ul>
                    <button class="expand-project-btn mt-4 bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-full transition-colors" data-project="brolink">
                        Read More ✨
                    </button>
                </div>
            </div>
        </section>

        <!-- Cover Letter Assistant Section -->
        <section id="cover-letter" class="py-16 md:py-24">
            <h2 class="text-3xl md:text-4xl font-bold mb-8 text-center text-gray-50">
                ✨ Cover Letter Assistant
            </h2>
            <div class="bg-slate-900 p-8 md:p-12 rounded-2xl shadow-xl text-center">
                <p class="text-lg text-gray-300 mb-4">
                    Paste a job description below, and I'll generate a personalized cover letter draft tailored to my experience.
                </p>
                <textarea id="job-description" class="w-full h-48 p-4 rounded-lg bg-slate-800 text-gray-100 placeholder-gray-500 resize-none mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-600" placeholder="Paste the job description here..."></textarea>
                <button id="generate-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full transition-colors shadow-lg">
                    Generate Cover Letter ✨
                </button>
                <div id="loading-indicator-cover-letter" class="hidden mt-4 text-indigo-400">
                    Generating...
                </div>
                <div id="cover-letter-output" class="mt-8 p-6 bg-slate-800 rounded-lg text-left whitespace-pre-wrap text-gray-300">
                    <!-- Output will be displayed here -->
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-16 md:py-24">
            <h2 class="text-3xl md:text-4xl font-bold mb-8 text-center text-gray-50">Contact</h2>
            <div class="bg-slate-900 p-8 md:p-12 rounded-2xl shadow-xl text-center">
                <p class="text-lg text-gray-300 mb-4">I'm currently open to new opportunities. Feel free to connect!</p>
                <div class="flex flex-col items-center space-y-4 text-gray-300">
                    <div class="flex items-center space-x-2">
                        <!-- Email Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-2 11H5a2 2 0 01-2-2V7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2z" />
                        </svg>
                        <a href="mailto:meetwithanuragsingh@gmail.com" class="hover:text-indigo-400 transition-colors">meetwithanuragsingh@gmail.com</a>
                    </div>
                    <div class="flex items-center space-x-2">
                        <!-- Phone Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.26 1.13a11.04 11.04 0 007.82 7.82l1.13-2.26a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.79 21 3 14.21 3 6V5z" />
                        </svg>
                        <a href="tel:+918318713928" class="hover:text-indigo-400 transition-colors">+91-831-871-3928</a>
                    </div>
                    <div class="flex items-center space-x-2">
                        <!-- LinkedIn Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6 text-indigo-400">
                            <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2a2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                            <rect x="2" y="9" width="4" height="12"></rect>
                            <circle cx="4" cy="4" r="2"></circle>
                        </svg>
                        <a href="https://www.linkedin.com/in/praveen-gupta-552894214?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app " target="_blank" rel="noopener noreferrer" class="hover:text-indigo-400 transition-colors">
                            https://www.linkedin.com/in/praveen-gupta
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-center text-gray-400 py-6 mt-12">
        <p>&copy; 2025 Anurag Singh. All rights reserved.</p>
    </footer>
    
    <!-- Modal for Project Details -->
    <div id="project-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h3 id="modal-title" class="text-2xl font-bold mb-4 text-indigo-400"></h3>
            <div id="modal-content-area" class="text-gray-300 text-left">
                <!-- Project details will be loaded here -->
            </div>
            <div id="loading-indicator-project" class="hidden mt-4 text-indigo-400 text-center">
                Generating summary...
            </div>
        </div>
    </div>

    <!-- JavaScript for smooth scrolling, mobile menu, and API integrations -->
    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Mobile menu toggle
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        menuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Gemini API integration for cover letter generation
        document.getElementById('generate-btn').addEventListener('click', async () => {
            const jobDescription = document.getElementById('job-description').value;
            const outputDiv = document.getElementById('cover-letter-output');
            const generateBtn = document.getElementById('generate-btn');
            const loadingIndicator = document.getElementById('loading-indicator-cover-letter');

            if (!jobDescription) {
                outputDiv.textContent = 'Please enter a job description.';
                return;
            }

            // Disable button and show loading indicator
            generateBtn.disabled = true;
            generateBtn.classList.add('opacity-50', 'cursor-not-allowed');
            loadingIndicator.classList.remove('hidden');
            outputDiv.textContent = ''; // Clear previous output

            // Resume content hardcoded into the script for the prompt
            const resumeText = `
Praveen Gupta
Location: Pune, India
guptapv029@gmail.com
+91-888-787-015-4
https://www.linkedin.com/in/praveen-gupta-552894214?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app 

PROFESSIONAL SUMMARY
Experienced Software Engineer specializing in .NET back-end development with a proven record of designing secure, high-quality production code. Skilled in C#, Web API, and .NET Core, with demonstrated expertise in unit testing, debugging, and agile methodologies. Proficient in utilizing Azure DevOps and Git for version control and continuous integration, while effectively developing RESTful APIs and integrations that enhance system performance.

TECHNICAL SKILLS
• Programming Languages: C#, LINQ, OOPS Concepts, DSA
• Frameworks & Technologies: .Net Core, NET CORE Web API, Entity Framework, ASP.net MVC, React
• Database Skills: SQL Server, SQL Scripting
• Tools: Git, Source Tree, Kibana Logs, Visual Studio, Visual Studio Code, Swagger, Postman, Soap UI, Sonar Qube
• Testing: Xunit Unit/End-to-End Testing
• APIs & Authentication: RESTful APIs, JWT, OAuth2
• DevOps: Azure DevOps, GitHub
• Methodologies: Agile, Scrum, Waterfall, CI/CD, Code Reviews
• Emerging Technologies: Artificial Intelligence
• Gen Al Experience: Effectively utilized GitHub Copilot as an Al-powered assistant to enhance development efficiency while maintaining full control over code quality., Used Copilot to generate boilerplate code, explore alternative solutions, and accelerate repetitive tasks, allowing more focus on complex problem-solving and architectural decisions.

PROFESSIONAL EXPERIENCE
Nihilent Limited, Senior Software Engineer - Backend Developer (Pune, India, May 2022 - Present)
• Engineered a secure RESTful API solution using C# and .NET Core for customer queries on undelivered card shipments by integrating with Microsoft Dynamics 365 Customer Service. Collaborated with the D365 team to design API endpoints with OAuth 2.0 authentication that logs issues as cases with unique identifiers.
• Implemented a robust RESTful API integration with a delivery company's system to retrieve real-time user data and live delivery statuses. Employed asynchronous data fetching and caching strategies to optimize performance, resulting in a 15% boost in customer engagement.
• Achieved 95% unit test coverage with xUnit, significantly reducing deployment errors by 30% and ensuring high-quality production code.
• Achieved rapid project completion, delivering the solution in just 50% of the allocated time, demonstrating efficiency and technical expertise.
• Optimized CI/CD pipelines in Azure DevOps to cut deployment time by 25%, reinforcing agile practices and operational stability in a large corporate environment.
• Authored comprehensive technical documentation that reduced new developer onboarding time by 25%, supporting effective knowledge transfer and sustainable software design.

KEY PROJECTS
Nedbank Business Hub - CCI (Corporate Card Issuing)
• Security Integration: Implemented JWT/OAuth2 for secure third-party API access.
• Mobile Responsiveness: Enhanced cross-device compatibility, reducing mobile load time by 20%.
• Recognized with a "Top Performer Award" for leading critical enhancements to Nedbank's financial platform.
• Improved legacy module performance by 25% via SOLID principles.
Brolink - Insurance Platform | ReactJS Pages
• Designed and developed the User Interface and experience for an insurance platform, creating a marketplace that connects insurance providers with potential customers while helping users find the best deals.
• Crafted intuitive front-end flows and built responsive UI components using ReactJS and Formik, performed validation, improving user engagement and interaction.
• Integrated and tested REST APIs using Swagger and Postman.

EDUCATION
Chandigarh University, Bachelor of Engineering (B.E), Computer Science, May 2022
            `;

            const prompt = `You are a career assistant. Write a professional cover letter for Anurag Singh, a Software Engineer. The cover letter should be based on the following job description and Anurag's resume. Be sure to highlight relevant skills and experience from the resume that match the job description.

Job Description:
${jobDescription}

Anurag Singh's Resume:
${resumeText}

Cover Letter:`;

            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });
            const payload = { contents: chatHistory };
            const apiKey = "AIzaSyD191Z1Qr2remZZ8bgXQIjxBji3tmIlrDk";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API call failed with status: ${response.status}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    outputDiv.textContent = text;
                } else {
                    outputDiv.textContent = 'Could not generate cover letter. Please try again.';
                }
            } catch (error) {
                console.error('Error fetching from Gemini API:', error);
                outputDiv.textContent = 'An error occurred while generating the cover letter. Please check the console for details.';
            } finally {
                // Re-enable button and hide loading indicator
                generateBtn.disabled = false;
                generateBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                loadingIndicator.classList.add('hidden');
            }
        });

        // Gemini API integration for project details
        const projectModal = document.getElementById('project-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalContentArea = document.getElementById('modal-content-area');
        const loadingIndicatorProject = document.getElementById('loading-indicator-project');
        const closeBtn = document.querySelector('.close-btn');

        document.querySelectorAll('.expand-project-btn').forEach(button => {
            button.addEventListener('click', async (e) => {
                const projectId = e.target.getAttribute('data-project');
                let projectDetails = '';
                let projectTitle = '';

                if (projectId === 'nedbank') {
                    projectTitle = 'Nedbank Business Hub - CCI';
                    projectDetails = `
                        Project: Nedbank Business Hub - CCI
                        Details:
                        - Implemented JWT/OAuth2 for secure third-party API access.
                        - Enhanced mobile responsiveness, reducing mobile load time by 20%.
                        - Recognized with a "Top Performer Award" for leading critical enhancements.
                        - Improved legacy module performance by 25% via SOLID principles.
                    `;
                } else if (projectId === 'brolink') {
                    projectTitle = 'Brolink - Insurance Platform';
                    projectDetails = `
                        Project: Brolink - Insurance Platform
                        Details:
                        - Designed and developed the user interface and experience for an insurance platform.
                        - Crafted intuitive front-end flows and built responsive UI components using ReactJS and Formik.
                        - Integrated and tested REST APIs using Swagger and Postman.
                    `;
                }

                // Show modal and loading indicator
                projectModal.style.display = 'flex';
                modalTitle.textContent = projectTitle;
                modalContentArea.textContent = '';
                loadingIndicatorProject.classList.remove('hidden');

                const prompt = `Elaborate on the following project in a few paragraphs, focusing on the technical achievements and the business impact. Make it sound professional and detailed. Use the following project information:
                
                ${projectDetails}

                Project Summary:`;

                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = "AIzaSyD191Z1Qr2remZZ8bgXQIjxBji3tmIlrDk";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API call failed with status: ${response.status}`);
                    }

                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        modalContentArea.textContent = text;
                    } else {
                        modalContentArea.textContent = 'Could not generate project summary. Please try again.';
                    }
                } catch (error) {
                    console.error('Error fetching from Gemini API:', error);
                    modalContentArea.textContent = 'An error occurred while generating the summary. Please check the console for details.';
                } finally {
                    loadingIndicatorProject.classList.add('hidden');
                }
            });
        });

        // Close the modal
        closeBtn.addEventListener('click', () => {
            projectModal.style.display = 'none';
        });

        window.onclick = function(event) {
            if (event.target == projectModal) {
                projectModal.style.display = "none";
            }
        }
    </script>
</body>
</html>